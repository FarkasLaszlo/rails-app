<h1> Users </h1>
<table class="table table-striped table-bordered">
  <tr>
    <% @keys.each do |key| %>
      <th>
        <% if key == "created_at" %>
          <%= translate_text "Registration time" %>
        <% else %>
          <%= translate_text key.capitalize %>
        <% end %>
      </th>
    <% end %>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  <% @users.each do |user| %>
    <tr>
      <% @keys.each do |key| %>
        <td class="user-row align-middle">
          <% if key == "created_at" %>
            <%= creation_time_of user %>
          <% elsif key == "avatar" %>
            <%= user_avatar(user) %>
          <% else %>
            <%= user.send(key) %>
          <% end%>
        </td>
      <% end %>
      <td class="align-middle"><%= link_to translate_text("Show"), user_path(user), class: "btn btn-primary" %></td>
      <td class="align-middle"><%= link_to translate_text("Edit"), edit_user_path(user), class: "btn btn-primary" %></td>
      <% if !current_user.admin? || current_user != user %>
        <td class="align-middle"><%= link_to translate_text('Delete'), user_path(user), method: :delete, class: "btn btn-danger" %></td>
      <% else %>
        <td></td>
      <% end %>
    </tr>
  <% end %>
</table>
<%= link_to translate_text('Back'), root_path, class: "btn btn-secondary" %>
